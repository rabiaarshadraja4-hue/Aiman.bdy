<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy Birthday Aiman ğŸ‚ğŸ’–</title>
<style>
/* Body background with image1 + overlay */
body {
    margin: 0;
    padding: 0;
    background: url('img.jpg') no-repeat center center fixed;
    background-size: cover;
    font-family: Arial, sans-serif;
    overflow-x: hidden;
}

/* Optional overlay image2 as subtle layer */
body::after {
    content: "";
    background: url('img2.jpg') no-repeat center center fixed;
    background-size: cover;
    opacity: 0.4; /* transparency */
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    position: fixed;
    z-index: 1;
}

/* Main wrapper */
#wrap {
    text-align: center;
    position: relative;
    z-index: 2; /* content above background */
}

/* Birthday message styling */
#birthday-message {
    font-size: 22px;
    color: #ff3399;
    margin-top: 20px;
    opacity: 0;
    transition: opacity 2s;
    z-index: 5;
    position: relative;
}

/* Clock styling */
#clock-box {
    margin-top: 15px;
    font-size: 18px;
    color: #ff3399;
    z-index: 5;
    position: relative;
}

/* Canvas heart animation */
canvas {
    display: block;
    margin: 0 auto;
    position: relative;
    z-index: 3; /* above background but below floating pics */
}

/* Floating Aiman pics */
.side-image {
    position: absolute;
    width: 150px;
    border-radius: 15px;
    box-shadow: 0 0 15px #ff99cc;
    animation: float 4s ease-in-out infinite alternate;
    z-index: 4; /* above canvas */
}
#side1 { top: 150px; left: 20px; animation-delay: 0s; }
#side2 { top: 300px; right: 20px; animation-delay: 1.5s; }

@keyframes float {
    0% { transform: translateY(0px); }
    100% { transform: translateY(-20px); }
}
</style>
</head>
<body>

<div id="wrap">

    <!-- Floating images (Aiman's pics) -->
    <img src="aiman1.jpg" class="side-image" id="side1" alt="Aiman Pic 1">
    <img src="aiman2.jpg" class="side-image" id="side2" alt="Aiman Pic 2">

    <!-- Birthday message -->
    <div id="birthday-message">
        My Cute Friend ğŸ’<br>
        Happy Birthday Aiman ğŸ‚ğŸ˜‚<br>
        Aiman, mubarak ho tum officially ek saal aur zyada â€œold but goldâ€ ho gayi ho ğŸ˜œâœ¨<br>
        Cake zyada khana, calories kal se count karna ğŸ˜ŒğŸ‚<br>
        Stay happy, drama queen ğŸ‘‘ğŸ’–<br>
        Hope you have a great day today â¤ï¸ğŸ˜˜
    </div>

    <!-- Live age clock -->
    <div id="clock-box">
        <span id="clock">7669 days 0 hours 0 minutes 0 seconds</span>
    </div>

    <!-- Canvas for heart animation -->
    <canvas id="canvas" width="1100" height="680"></canvas>
</div>

<!-- Audio -->
<audio id="myAudio" loop>
    <source src="aud.mp3" type="audio/mpeg">
</audio>

<!-- Scripts -->
<script src="./file/jquery.min.js"></script>
<script src="./file/jscex.min.js"></script>
<script src="./file/jscex-parser.js"></script>
<script src="./file/jscex-jit.js"></script>
<script src="./file/jscex-builderbase.min.js"></script>
<script src="./file/jscex-async.min.js"></script>
<script src="./file/jscex-async-powerpack.min.js"></script>
<script src="./file/functions.js" charset="utf-8"></script>
<script src="./file/love.js" charset="utf-8"></script>

<script>
// Audio fade-in function
function playAudioFadeIn() {
    var audio = document.getElementById("myAudio");
    audio.volume = 0;
    audio.play();
    var vol = 0;
    var fadeIn = setInterval(function(){
        if(vol < 1){
            vol += 0.01;
            audio.volume = vol;
        } else {
            clearInterval(fadeIn);
        }
    }, 50);
}

// Fade in birthday message after 3s
setTimeout(function(){
    document.getElementById('birthday-message').style.opacity = 1;
}, 3000);

// Start audio fade-in after click anywhere
document.getElementById('wrap').addEventListener('click', function(){
    playAudioFadeIn();
});

// Live age clock calculation
var birthDate = new Date(2005, 1, 14); // Feb is month 1
function updateClock(){
    var now = new Date();
    var diff = now - birthDate;
    var days = Math.floor(diff / (1000*60*60*24));
    var hours = Math.floor((diff / (1000*60*60)) % 24);
    var minutes = Math.floor((diff / (1000*60)) % 60);
    var seconds = Math.floor((diff / 1000) % 60);
    document.getElementById('clock').textContent = days + " days " + hours + " hours " + minutes + " minutes " + seconds + " seconds";
}
setInterval(updateClock, 1000);
updateClock(); // initial

// Heart tree animation (from original template)
(function() {
    var canvas = $('#canvas');
    if (!canvas[0].getContext) return false;
    var width = canvas.width(), height = canvas.height();
    canvas.attr("width", width); canvas.attr("height", height);
    var opts = {
        seed:{ x: width/2-20, color:"rgb(190,26,37)", scale:2 },
        branch:[[535,680,570,250,500,200,30,100,[[540,500,455,417,340,400,13,100,[[450,435,434,430,394,395,2,40]]],[550,445,600,356,680,345,12,100,[[578,400,648,409,661,426,3,80]]],[539,281,537,248,534,217,3,40],[546,397,413,247,328,244,9,80,[[427,286,383,253,371,205,2,40],[498,345,435,315,395,330,4,60]]],[546,357,608,252,678,221,6,100,[[590,293,646,277,648,271,2,80]]]]]],
        bloom:{ num:700, width:1080, height:650 },
        footer:{ width:1200, height:5, speed:10 }
    };
    var tree = new Tree(canvas[0], width, height, opts);
    var seed = tree.seed, foot = tree.footer, hold = 1;
    var seedAnimate = eval(Jscex.compile("async", function () {
        seed.draw();
        while(hold){ $await(Jscex.Async.sleep(10)); }
        while(seed.canScale()){ seed.scale(0.95); $await(Jscex.Async.sleep(10)); }
        while(seed.canMove()){ seed.move(0,2); foot.draw(); $await(Jscex.Async.sleep(10)); }
    }));
    var growAnimate = eval(Jscex.compile("async", function () { do{ tree.grow(); $await(Jscex.Async.sleep(10)); } while(tree.canGrow()); }));
    var flowAnimate = eval(Jscex.compile("async", function () { do{ tree.flower(2); $await(Jscex.Async.sleep(10)); } while(tree.canFlower()); }));
    var moveAnimate = eval(Jscex.compile("async", function () {
        tree.snapshot("p1",240,0,610,680);
        while(tree.move("p1",500,0)){ foot.draw(); $await(Jscex.Async.sleep(10)); }
        foot.draw();
        tree.snapshot("p2",500,0,610,680);
        canvas.parent().css("background","url("+tree.toDataURL('image/png')+")");
        canvas.css("background","#ffe");
        $await(Jscex.Async.sleep(300));
        canvas.css("background","none");
    }));
    var textAnimate = eval(Jscex.compile("async", function(){ $("#birthday-message").show().typewriter(); }));
    var runAsync = eval(Jscex.compile("async", function(){ $await(seedAnimate()); $await(growAnimate()); $await(flowAnimate()); $await(moveAnimate()); textAnimate().start(); }));
    runAsync().start();
})();
</script>
</body>
</html>
